<!DOCTYPE html>
<html class="dark" lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="현대적인 공학용 계산기 웹 애플리케이션 - TDD와 SOLID 원칙을 적용한 포트폴리오 프로젝트">
  <title>Engineering Calculator</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Material Symbols -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  
  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#135bec",
            "background-light": "#f6f6f8",
            "background-dark": "#101622",
            "surface-dark": "#1e2532",
            "surface-light": "#ffffff",
          },
          fontFamily: {
            "display": ["Space Grotesk", "sans-serif"]
          },
        },
      },
    }
  </script>
  
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display antialiased overflow-hidden h-screen flex flex-col transition-colors duration-300">
  
  <!-- Header -->
  <header class="flex items-center justify-between p-4 pt-6 z-10">
    <div class="w-12"></div>
    <h2 class="text-gray-900 dark:text-white text-lg font-bold tracking-tight">Scientific</h2>
    <div class="w-12 flex justify-end">
      <button id="theme-toggle" class="flex items-center justify-center w-10 h-10 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-gray-900 dark:text-white" aria-label="Toggle theme">
        <span class="material-symbols-outlined">settings</span>
      </button>
    </div>
  </header>

  <!-- Display Area -->
  <main class="flex-1 flex flex-col justify-end px-6 pb-2 relative z-0">
    <!-- Expression Display -->
    <div class="flex justify-end mb-2 fade-in">
      <p id="expression" class="text-gray-500 dark:text-gray-400 text-xl font-normal tracking-wide"></p>
    </div>
    
    <!-- Result Display -->
    <div class="flex justify-end items-end gap-2 mb-4">
      <span class="text-gray-400 dark:text-gray-600 text-3xl font-light pb-1">=</span>
      <h1 id="result" class="text-gray-900 dark:text-white text-6xl font-bold tracking-tight leading-none break-all text-right" aria-live="polite">0</h1>
    </div>
    
    <!-- Drag Handle -->
    <div class="w-full flex justify-center py-2 opacity-50">
      <div class="w-12 h-1 bg-gray-300 dark:bg-gray-700 rounded-full"></div>
    </div>
  </main>

  <!-- Toolbar -->
  <section class="px-4 py-2">
    <div class="flex justify-between items-center text-gray-600 dark:text-gray-400">
      <div class="flex gap-4 text-sm font-medium">
        <button class="hover:text-primary transition-colors flex items-center gap-1" aria-label="History">
          <span class="material-symbols-outlined text-[18px]">history</span>
          <span>History</span>
        </button>
        <button class="hover:text-primary transition-colors flex items-center gap-1" aria-label="Unit conversion">
          <span class="material-symbols-outlined text-[18px]">straighten</span>
          <span>Unit</span>
        </button>
      </div>
      
      <!-- DEG/RAD Toggle -->
      <div class="bg-gray-200 dark:bg-surface-dark rounded-lg p-1 flex text-xs font-bold">
        <button id="deg-btn" class="px-3 py-1 rounded bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm" aria-label="Degrees mode">DEG</button>
        <button id="rad-btn" class="px-3 py-1 rounded text-gray-500 dark:text-gray-500 hover:text-gray-900 dark:hover:text-white transition-colors" aria-label="Radians mode">RAD</button>
      </div>
    </div>
  </section>

  <!-- Keypad -->
  <section class="bg-surface-light dark:bg-[#161e2c] rounded-t-3xl shadow-[0_-4px_20px_rgba(0,0,0,0.05)] dark:shadow-[0_-4px_20px_rgba(0,0,0,0.2)] p-4 pb-8 h-auto flex-shrink-0 z-10 border-t border-gray-100 dark:border-white/5">
    <div id="keypad" class="grid grid-cols-4 gap-3 h-full">
      <!-- Row 1 -->
      <button data-type="clear" data-value="AC" class="h-16 rounded-2xl bg-gray-100 dark:bg-surface-dark text-red-500 dark:text-red-400 font-bold text-lg hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="All clear">AC</button>
      <button data-type="function" data-value="(" class="h-16 rounded-2xl bg-gray-100 dark:bg-surface-dark text-primary font-bold text-lg hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Parentheses">( )</button>
      <button data-type="operator" data-value="%" class="h-16 rounded-2xl bg-gray-100 dark:bg-surface-dark text-primary font-bold text-lg hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Percent">%</button>
      <button data-type="operator" data-value="÷" class="h-16 rounded-2xl bg-blue-50 dark:bg-[#1f293a] text-primary font-bold text-2xl hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Divide">÷</button>
      
      <!-- Row 2 -->
      <button data-type="function" data-value="sin" class="h-14 rounded-2xl bg-gray-100 dark:bg-surface-dark text-gray-900 dark:text-gray-300 font-medium text-base hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Sine">sin</button>
      <button data-type="function" data-value="cos" class="h-14 rounded-2xl bg-gray-100 dark:bg-surface-dark text-gray-900 dark:text-gray-300 font-medium text-base hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Cosine">cos</button>
      <button data-type="function" data-value="tan" class="h-14 rounded-2xl bg-gray-100 dark:bg-surface-dark text-gray-900 dark:text-gray-300 font-medium text-base hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Tangent">tan</button>
      <button data-type="operator" data-value="×" class="h-14 rounded-2xl bg-blue-50 dark:bg-[#1f293a] text-primary font-bold text-2xl hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Multiply">×</button>
      
      <!-- Row 3 -->
      <button data-type="number" data-value="7" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="7">7</button>
      <button data-type="number" data-value="8" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="8">8</button>
      <button data-type="number" data-value="9" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="9">9</button>
      <button data-type="operator" data-value="-" class="h-16 rounded-2xl bg-blue-50 dark:bg-[#1f293a] text-primary font-bold text-2xl hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Subtract">-</button>
      
      <!-- Row 4 -->
      <button data-type="number" data-value="4" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="4">4</button>
      <button data-type="number" data-value="5" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="5">5</button>
      <button data-type="number" data-value="6" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="6">6</button>
      <button data-type="operator" data-value="+" class="h-16 rounded-2xl bg-blue-50 dark:bg-[#1f293a] text-primary font-bold text-2xl hover:brightness-95 dark:hover:brightness-110 active:scale-95 transition-all" aria-label="Add">+</button>
      
      <!-- Row 5 -->
      <button data-type="number" data-value="1" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="1">1</button>
      <button data-type="number" data-value="2" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="2">2</button>
      <button data-type="number" data-value="3" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="3">3</button>
      <button data-type="equals" data-value="=" class="row-span-2 rounded-2xl bg-primary text-white font-bold text-3xl shadow-lg shadow-blue-500/30 hover:bg-blue-600 active:scale-95 transition-all flex items-center justify-center" aria-label="Equals">=</button>
      
      <!-- Row 6 -->
      <button data-type="number" data-value="0" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="0">0</button>
      <button data-type="number" data-value="." class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm" aria-label="Decimal point">.</button>
      <button data-type="backspace" data-value="⌫" class="h-16 rounded-2xl bg-white dark:bg-[#1e2532]/50 border border-gray-100 dark:border-white/5 text-gray-900 dark:text-white font-medium text-2xl hover:bg-gray-50 dark:hover:bg-surface-dark active:scale-95 transition-all shadow-sm flex items-center justify-center" aria-label="Backspace">
        <span class="material-symbols-outlined">backspace</span>
      </button>
    </div>
  </section>

  <!-- Basic JavaScript for demo -->
  <script type="module">
    // Simple calculator demo (will be replaced with full implementation)
    let currentExpression = '';
    let angleMode = 'DEG';
    
    const expressionEl = document.getElementById('expression');
    const resultEl = document.getElementById('result');
    const keypad = document.getElementById('keypad');
    const themeToggle = document.getElementById('theme-toggle');
    const degBtn = document.getElementById('deg-btn');
    const radBtn = document.getElementById('rad-btn');
    
    // Theme toggle
    themeToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
    });
    
    // Angle mode toggle
    degBtn.addEventListener('click', () => {
      angleMode = 'DEG';
      degBtn.classList.add('bg-white', 'dark:bg-gray-600', 'text-gray-900', 'dark:text-white', 'shadow-sm');
      degBtn.classList.remove('text-gray-500', 'dark:text-gray-500');
      radBtn.classList.remove('bg-white', 'dark:bg-gray-600', 'text-gray-900', 'dark:text-white', 'shadow-sm');
      radBtn.classList.add('text-gray-500', 'dark:text-gray-500');
    });
    
    radBtn.addEventListener('click', () => {
      angleMode = 'RAD';
      radBtn.classList.add('bg-white', 'dark:bg-gray-600', 'text-gray-900', 'dark:text-white', 'shadow-sm');
      radBtn.classList.remove('text-gray-500', 'dark:text-gray-500');
      degBtn.classList.remove('bg-white', 'dark:bg-gray-600', 'text-gray-900', 'dark:text-white', 'shadow-sm');
      degBtn.classList.add('text-gray-500', 'dark:text-gray-500');
    });
    
    // Keypad event handling
    keypad.addEventListener('click', (e) => {
      const button = e.target.closest('button');
      if (!button) return;
      
      const type = button.dataset.type;
      const value = button.dataset.value;
      
      if (type === 'number' || type === 'operator') {
        currentExpression += value;
        expressionEl.textContent = currentExpression;
      } else if (type === 'clear') {
        currentExpression = '';
        expressionEl.textContent = '';
        resultEl.textContent = '0';
      } else if (type === 'backspace') {
        currentExpression = currentExpression.slice(0, -1);
        expressionEl.textContent = currentExpression;
      } else if (type === 'equals') {
        try {
          // Simple evaluation (will be replaced with proper parser)
          const expr = currentExpression
            .replace(/×/g, '*')
            .replace(/÷/g, '/')
            .replace(/%/g, '/100');
          const result = eval(expr);
          resultEl.textContent = result.toLocaleString();
        } catch (error) {
          resultEl.textContent = 'Error';
        }
      } else if (type === 'function') {
        if (value === '(') {
          currentExpression += '(';
          expressionEl.textContent = currentExpression;
        } else {
          currentExpression += value + '(';
          expressionEl.textContent = currentExpression;
        }
      }
    });
    
    // Keyboard support
    document.addEventListener('keydown', (e) => {
      if (e.key >= '0' && e.key <= '9' || e.key === '.') {
        currentExpression += e.key;
        expressionEl.textContent = currentExpression;
      } else if (e.key === '+' || e.key === '-' || e.key === '*' || e.key === '/') {
        const op = e.key === '*' ? '×' : e.key === '/' ? '÷' : e.key;
        currentExpression += op;
        expressionEl.textContent = currentExpression;
      } else if (e.key === 'Enter') {
        e.preventDefault();
        document.querySelector('[data-type="equals"]').click();
      } else if (e.key === 'Escape') {
        document.querySelector('[data-type="clear"]').click();
      } else if (e.key === 'Backspace') {
        e.preventDefault();
        currentExpression = currentExpression.slice(0, -1);
        expressionEl.textContent = currentExpression;
      }
    });
  </script>
</body>
</html>
